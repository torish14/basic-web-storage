<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>basic web storage</title>
</head>
<body>
	<h1>Hello!</h1>
	<script>
		// 即時関数を使う
		(function(){
			if (typeof(Storage) === 'undefined') {
				alert('Sorry, your browser does not support Web Storage...')
			} else {
				// データを保存する
				// sessionStorage.setItem(key, value)

				// データを取得する
				// sessionStorage.getItem(key)

				// sessionStorage.setItem('name', 'Taro')
				// sessionStorage.setItem('age', '20')

				// console.log(sessionStorage.getItem('name'))
				// console.log('name saved!')
				// console.log(sessionStorage.getItem('age'))
				// console.log('age saved!')

				// データを削除する
				// sessionStorage.removeItem(key)

				// データをすべて削除する
				// sessionStorage.clear()

				localStorage.setItem('name', 'Taro')
				localStorage.setItem('age', '20')
				localStorage.setItem('address', 'Tokyo')
				localStorage.setItem('phone', '090-1234-5678')
				localStorage.setItem('email', 'xxxx-xxxx.com')
				// データをすべて取り出す
				for (var i = 0; i < sessionStorage.length; i++) {
					console.log(sessionStorage.key(i))
					console.log(sessionStorage.getItem(sessionStorage.key(i)))
				}

				// JSON ⇔ 文字列
				// JSON.stringify(object)
				// JSON.parse(string)
				// const user = {
					// name: 'Taro',
					// age: 20,
					// address: 'Tokyo',
					// phone: '090-1234-5678',
					// email: 'xxxx-xxxx.com'
				// }

				// localStorage.setItem('user', JSON.stringify(user))
				// console.log(JSON.parse(localStorage.getItem('user')))

				// console.log('Web Storage is supported!')
				// console.log('Web Storage is supported!')

				// ルール
				// 同一オリジン（オリジンは URL のようなもの）でデータを保存する
				// オリジンが一緒であれば、同じデータを保存できる
				// http はスキーム
				// 192.168.10 はホスト
				// 8000 はポート
				// これらをあわせてオリジンと呼ぶ
				// http://192.168.38.10:8000/index.html
				// http://192.168.38.10:8000/cart.html
				// http://192.168.38.10:8000/app/index.html

				// 種類
				// sessionStorage: タブが閉じられるまで有効
				// localStorage: ブラウザ自体にずっと保存
			}
		})()
	</script>
</body>
</html>
